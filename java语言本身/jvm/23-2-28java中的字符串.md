# Java中的String
## 基本特性
* String实现了Serializable接口：表示字符串是支持序列化的。
* String实现了Comparable接口：表示string可以比较大小
## 不可变性  
以下这几种情况都需要重新申请内存 
* 当对字符串重新赋值时
* 字符串连接时
* 调用repalce时    
<font color="#00dddd">特别注意，用双引号"" 声明的变量与new String()声明的变量存放位置不同，前者在字符串常量池，后者在堆中(字符串常量池是堆中一块专门存放字符串的区域，里面不能有重复字符串)</font>

## 底层变更
 jdk8以前使用char数组存储，jdk9时改为byte数组。  
 原因：字符串是堆使用的主要组成部分，大多数字符串对象只包含Latin-1字符。这些字符只需要一个字节的存储空间，因此这些字符串对象的内部字符数组中有一半的空间没有被使用。  
 与字符串相关的类，如AbstractStringBuilder、StringBuilder和StringBuffer将被更新以使用相同的表示方法，HotSpot VM的内在字符串操作也是如此。

 ## 字符串常量池
 * jdk6之前在方法区中，jdk7之后放在堆里
 * 里面不能有重复字符串

 ## 拼接字符串的存放位置
* 常量与常量的拼接结果在常量池，原理是编译期优化
* 常量池中不会存在相同内容的变量
* 只要其中有一个是变量，结果就在堆中。变量拼接的原理是StringBuilder
* 如果拼接的结果调用intern()方法，则主动将常量池中还没有的字符串对象放入池中，并返回此对象地址

